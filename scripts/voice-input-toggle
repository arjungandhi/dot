#!/bin/bash
# Toggle voice input recording

PID_FILE="/tmp/voice-input.pid"

# Check if already running
if [ -f "$PID_FILE" ]; then
    # Stop recording
    PID=$(cat "$PID_FILE")
    if kill -0 "$PID" 2>/dev/null; then
        kill -TERM "$PID" 2>/dev/null
    fi
    rm -f "$PID_FILE"
else
    # Start recording
    pkill -9 voice-input 2>/dev/null  # Clean up any zombie processes
    voice-input &
    echo $! > "$PID_FILE"
fi
